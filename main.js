!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){[u["default"]].forEach(function(e){return e()})}n(1);var i=n(2),u=o(i);if("registerElement"in document)r();else{var a=document.createElement("script");a.src="/document-register-element.js",a.onload=r,document.body.appendChild(a)}},function(e,t){},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=Object.create(HTMLElement.prototype);e.attachedCallback=function(){var e=this.querySelector("img");if(!e)throw new Error("<image-zoomer> must contain an image");this.zoomer=new u["default"](e)},document.registerElement("image-zoomer",{prototype:e})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(3),u=o(i)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return e<t?t:e>n?n:e}function i(e,t,n){var o=document.createElement("div");o.classList.add("zoom-box");var r=t.clientWidth/n.clientWidth,i=t.clientHeight/n.clientHeight;return o.style.width=Math.round(e.clientWidth*r)+"px",o.style.height=Math.round(e.clientHeight*i)+"px",o}function u(e){var t=document.createElement("div");return t.classList.add("zoom-window"),e.setAttribute("aria-hidden","true"),t.appendChild(e),t}function a(e,t,n,o){var i=e-n.width/2,u=t-n.height/2;return i=r(i,o.left,o.right-n.width),u=r(u,o.top,o.bottom-n.height),i-=n.left,u-=n.top,{x:Math.round(i),y:Math.round(u)}}function c(e,t){var n=e.bottom,o=e.left,r=e.right,i=e.top,u=t.pageX,a=t.pageY;return u>o&&u<r&&a>i&&a<n}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4);var d=n(5),l=n(6),f=document,h=f.body,m=function(){function e(t){o(this,e);var n=t.parentNode;this.image=t,this.zoomedImage=t.cloneNode();var r=this.zoomContainer=document.createElement("div");r.classList.add("zoom-container"),r.appendChild(t),n.appendChild(r),this.zoomWindow=u(this.zoomedImage),n.appendChild(this.zoomWindow),this.listenForMouseEnter()}return s(e,[{key:"activate",value:function(){this.zoomBox.classList.add("active"),this.zoomWindow.classList.add("active"),this.listenForMouseMove()}},{key:"deactivate",value:function(){this.zoomBox.classList.remove("active"),this.zoomWindow.classList.remove("active"),this.listenForMouseEnter()}},{key:"handleMouseMove",value:function(e){var t=this;this.isMoveScheduled||(window.requestAnimationFrame(function(){c(t.imageBounds,e)?t.updateUI(e.pageX,e.pageY):t.deactivate(),t.isMoveScheduled=!1}),this.isMoveScheduled=!0)}},{key:"listenForMouseEnter",value:function(){var e=this.image;h.removeEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseenter",this.activate),this._zoomBox&&this._zoomBox.addEventListener("mouseenter",this.activate)}},{key:"listenForMouseMove",value:function(){var e=this.image,t=this.zoomBox;e.removeEventListener("mouseenter",this.activate),t.removeEventListener("mouseenter",this.activate),h.addEventListener("mousemove",this.handleMouseMove)}},{key:"moveZoomedImage",value:function(e,t){var n=this.zoomedImage,o=Math.round(n.clientWidth*e)*-1,r=Math.round(n.clientHeight*t)*-1;n.style.transform="translate("+o+"px, "+r+"px)"}},{key:"updateUI",value:function(e,t){var n=this.imageBounds,o=this.zoomBox,r=this.zoomBoxBounds,i=a(e,t,r,n),u=i.x,c=i.y;o.style.transform="translate("+u+"px, "+c+"px)",this.moveZoomedImage(u/n.width,c/n.height)}},{key:"imageBounds",get:function(){var e=this;return(0,l.getCachedProp)(this,"imageBounds",function(){return(0,l.toDocumentBounds)(e.image.getBoundingClientRect())})}},{key:"zoomBox",get:function(){var e=this;return(0,l.getCachedProp)(this,"zoomBox",function(){var t=i(e.image,e.zoomWindow,e.zoomedImage);return e.zoomContainer.appendChild(t),t})}},{key:"zoomBoxBounds",get:function(){var e=this;return(0,l.getCachedProp)(this,"zoomBoxBounds",function(){return(0,l.toDocumentBounds)(e.zoomBox.getBoundingClientRect())})}}]),e}();t["default"]=m,(0,d.autobindMethods)(m,"activate","handleMouseMove")},function(e,t){},function(e,t){"use strict";function n(e,t,o){return void 0===t&&(t=1/0),void 0===o&&(o=[]),e.reduce(function(e,o){return Array.isArray(o)&&t>0?n(o,t-1,e):(e.push(o),e)},o)}function o(e){return function(){return e}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return s.apply(void 0,e.reverse())}function i(e){return function(t){return function(n){return e(t,n)}}}function u(e){return function(t){return function(n){return function(o){return e(t,n,o)}}}}function a(e,t){function n(o){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var u=o.concat(r);return u.length>=t?e.apply(null,u):n.bind(null,u)}return void 0===t&&(t=e.length),n.bind(null,[])}function c(e){return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}}function d(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function l(e,t){void 0===t&&(t=e,e=0);for(var n=t<e?-1:1,o=t+n,r=new Array(Math.abs(t-e)+1),i=e,u=0;i!==o;i+=n,u++)r[u]=i;return r}function f(e,t){for(var n=1;n<=e;n++)t(n)}function h(e,t,n){e=t||n?e.then(t,n):e,e.then(null,function(e){e=e instanceof Error?e:new Error(e),setTimeout(function(){throw e},1)})}function m(e){return new Promise(function(t){setTimeout(t,e)})}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=e.prototype;t.forEach(function(e){var t=o[e];Object.defineProperty(o,e,{configurable:!0,get:function(){if(this.hasOwnProperty(e))return t;var n=t.bind(this);return Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),n}})})}Object.defineProperty(t,"__esModule",{value:!0});var p=a(function(e,t){return t.filter(e)}),g=a(function(e,t){return n(y(e,t),1)}),y=a(function(e,t){return t.map(e)}),M=a(function(e,t){return t[e]}),w=a(function(e,t,n){return n.reduce(e,t)});t.flatten=n,t.always=o,t.compose=r,t.curry2=i,t.curry3=u,t.curryN=a,t.filter=p,t.flatMap=g,t.identity=c,t.map=y,t.pipe=s,t.prop=M,t.reduce=w,t.rand=d,t.range=l,t.repeat=f,t.done=h,t.timeout=m,t.autobindMethods=v},function(e,t){"use strict";function n(e,t,n){var o="_"+t;return e.hasOwnProperty(o)||(e[o]=n.call(e)),e[o]}function o(e){var t=window,n=t.scrollX,o=t.scrollY,r=e.bottom,i=e.height,u=e.left,a=e.right,c=e.top,s=e.width;return{bottom:r+o,height:i,left:u+n,right:a+n,top:c+o,width:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCachedProp=n,t.toDocumentBounds=o}]);